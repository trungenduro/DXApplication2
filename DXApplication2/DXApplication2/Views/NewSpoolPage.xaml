<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"  
            xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"  
            x:Class="DXApplication2.Views.NewSpoolPage"  
            xmlns:dx="http://schemas.devexpress.com/maui"  
            xmlns:views="clr-namespace:DXApplication2.Views;assembly=DXApplication2"  
            xmlns:converters="clr-namespace:DXApplication2.Converters"  
            BindingContextChanged="ContentPage_BindingContextChanged"  
            Title="NewSpoolPage">  
   <ContentPage.Resources>  
       <converters:ImageEnumConverter x:Key="ImageEnumConverter" />  
       <converters:SpoolToImageConverter x:Key="ImageSPConverter" />  
   </ContentPage.Resources>
    <ContentPage.ToolbarItems>
        <ToolbarItem IconImageSource="camera" Text="カメラ"   Clicked="TakePhotoClicked" />
        <ToolbarItem Text="Save" IconImageSource="save.svg" Command="{Binding SaveCommand}" />
    </ContentPage.ToolbarItems>
    <dx:DXScrollView>  
       <dx:DXStackLayout ItemSpacing="24" Margin="16">  
           <dx:DXStackLayout ItemSpacing="8">                
                <Image  x:Name="preview" HeightRequest="100" WidthRequest="100" Source="{Binding Item,Converter={StaticResource ImageSPConverter}}"></Image>
               <Grid ColumnDefinitions="*,60">  
                   <dx:TextEdit LabelText="SpoolNo" Text="{Binding Item.SpoolNo}" />                   
               </Grid>  
               <dx:ComboBoxEdit SelectionChanged="type_SelectionChanged" x:Name="type" SelectedIndex="{Binding Item.SpoolType}" LabelText="形式" ItemsSource="{Binding DataControlContext.DataControlContext.DataControlContext.SpoolTypes}">
                   
                        <dx:ComboBoxEdit.ItemTemplate>  
                       <DataTemplate>  
                           <Grid ColumnDefinitions="*,*">  
                               <Label HorizontalOptions="Center" VerticalOptions="Center" Grid.Column="0" FontSize="20" Text="{Binding StringFormat='{0}  '}" />  
                               <Image Grid.Column="1" HorizontalOptions="Start" WidthRequest="50" HeightRequest="50" Source="{Binding Converter={StaticResource ImageEnumConverter}}" />  
                              
                           </Grid>  
                       </DataTemplate>  
                   </dx:ComboBoxEdit.ItemTemplate>  
               </dx:ComboBoxEdit>  

               <dx:ComboBoxEdit LabelText="サイズ" SelectedValue="{Binding Item.Size1}" ItemsSource="{Binding DataControlContext.DataControlContext.DataControlContext.Sizes}">  
                 
               </dx:ComboBoxEdit>
                <dx:TextEdit LabelText="枝サイズ" Text="{Binding Item.Size2}" />  
              
           </dx:DXStackLayout>  

           <dx:DXButton Content="Save" Command="{Binding SaveCommand}" />  
       </dx:DXStackLayout>  
   </dx:DXScrollView>  
</ContentPage>